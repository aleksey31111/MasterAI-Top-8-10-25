def todo_list_app_v2():
    """
    –£–ª—É—á—à–µ–Ω–Ω–æ–µ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–µ–ª
    —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–ª–æ–≤–∞—Ä–µ–π –¥–ª—è –∑–∞–¥–∞—á
    """

    # –°–ø–∏—Å–æ–∫ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á (–∫–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ - —Å–ª–æ–≤–∞—Ä—å)
    tasks = []

    # –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã
    priorities = ["–Ω–∏–∑–∫–∏–π", "—Å—Ä–µ–¥–Ω–∏–π", "–≤—ã—Å–æ–∫–∏–π"]

    print("=" * 50)
    print("        –°–ü–ò–°–û–ö –î–ï–õ (–ü–†–û–ï–ö–¢–ù–ê–Ø –í–ï–†–°–ò–Ø)")
    print("=" * 50)

    # –ì–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª –ø—Ä–æ–≥—Ä–∞–º–º—ã
    while True:
        # –ú–µ–Ω—é
        print("\n" + "‚ïê" * 40)
        print("–ú–ï–ù–Æ:")
        print("1. –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏")
        print("2. –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É")
        print("3. –£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É")
        print("4. –û—Ç–º–µ—Ç–∏—Ç—å –∑–∞–¥–∞—á—É –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—É—é")
        print("5. –í—ã–π—Ç–∏")
        print("‚ïê" * 40)

        # –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        choice = input("–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ (1-5): ").strip()

        # 1. –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏
        if choice == "1":
            print("\n" + "=" * 60)
            print("–°–ü–ò–°–û–ö –í–ê–®–ò–• –ó–ê–î–ê–ß:")
            print("=" * 60)

            if len(tasks) == 0:
                print("üì≠ –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –ø—É—Å—Ç!")
            else:
                for i, task in enumerate(tasks, 1):
                    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏
                    status = "[X]" if task['—Å–¥–µ–ª–∞–Ω–∞'] else "[ ]"

                    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ü–≤–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ (—Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏–µ)
                    priority_display = task['–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç']
                    if task['–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç'] == "–≤—ã—Å–æ–∫–∏–π":
                        priority_display = "üî• –í–´–°–û–ö–ò–ô"
                    elif task['–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç'] == "—Å—Ä–µ–¥–Ω–∏–π":
                        priority_display = "‚ö° –°–†–ï–î–ù–ò–ô"
                    else:
                        priority_display = "üåø –ù–ò–ó–ö–ò–ô"

                    print(f"{i}. {status} {task['–æ–ø–∏—Å–∞–Ω–∏–µ']} | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: {priority_display}")

            # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
            completed = sum(1 for task in tasks if task['—Å–¥–µ–ª–∞–Ω–∞'])
            print(f"\nüìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: {completed}/{len(tasks)} –≤—ã–ø–æ–ª–Ω–µ–Ω–æ "
                  f"({completed / len(tasks) * 100:.0f}%)" if tasks else "")

        # 2. –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É
        elif choice == "2":
            print("\n" + "‚îÄ" * 40)
            print("–î–û–ë–ê–í–õ–ï–ù–ò–ï –ù–û–í–û–ô –ó–ê–î–ê–ß–ò")
            print("‚îÄ" * 40)

            # –í–≤–æ–¥ –æ–ø–∏—Å–∞–Ω–∏—è
            description = input("–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏: ").strip()
            if not description:
                print("‚ùå –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º!")
                continue

            # –í—ã–±–æ—Ä –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞
            print("\n–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–∞–¥–∞—á–∏:")
            for idx, priority in enumerate(priorities, 1):
                print(f"{idx}. {priority}")

            while True:
                try:
                    priority_choice = int(input(f"–í–∞—à –≤—ã–±–æ—Ä (1-{len(priorities)}): ").strip())
                    if 1 <= priority_choice <= len(priorities):
                        selected_priority = priorities[priority_choice - 1]
                        break
                    else:
                        print(f"‚ùå –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ {len(priorities)}")
                except ValueError:
                    print("‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞")

            # –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏ (—Å–ª–æ–≤–∞—Ä—è)
            new_task = {
                '–æ–ø–∏—Å–∞–Ω–∏–µ': description,
                '—Å–¥–µ–ª–∞–Ω–∞': False,  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞–¥–∞—á–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
                '–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç': selected_priority
            }

            tasks.append(new_task)
            print(f"‚úÖ –ó–∞–¥–∞—á–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞! –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: {selected_priority}")
            print(f"üìã –í—Å–µ–≥–æ –∑–∞–¥–∞—á: {len(tasks)}")

        # 3. –£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É
        elif choice == "3":
            print("\n" + "‚îÄ" * 40)
            print("–£–î–ê–õ–ï–ù–ò–ï –ó–ê–î–ê–ß–ò")
            print("‚îÄ" * 40)

            if len(tasks) == 0:
                print("üì≠ –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –ø—É—Å—Ç! –ù–µ—á–µ–≥–æ —É–¥–∞–ª—è—Ç—å.")
                continue

            # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–¥–∞—á–∏ —Å –Ω–æ–º–µ—Ä–∞–º–∏
            print("–¢–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏:")
            for i, task in enumerate(tasks, 1):
                status = "[X]" if task['—Å–¥–µ–ª–∞–Ω–∞'] else "[ ]"
                print(f"{i}. {status} {task['–æ–ø–∏—Å–∞–Ω–∏–µ']}")

            try:
                # –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –Ω–æ–º–µ—Ä –∑–∞–¥–∞—á–∏ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
                task_num = int(input(f"\n–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –∑–∞–¥–∞—á–∏ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è (1-{len(tasks)}): ").strip())

                if 1 <= task_num <= len(tasks):
                    removed_task = tasks.pop(task_num - 1)
                    print(f"‚úÖ –ó–∞–¥–∞—á–∞ —É–¥–∞–ª–µ–Ω–∞: '{removed_task['–æ–ø–∏—Å–∞–Ω–∏–µ']}'")
                    print(f"üìä –û—Å—Ç–∞–ª–æ—Å—å –∑–∞–¥–∞—á: {len(tasks)}")
                else:
                    print(f"‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –Ω–æ–º–µ—Ä! –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ {len(tasks)}")

            except ValueError:
                print("‚ùå –û—à–∏–±–∫–∞! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –∑–∞–¥–∞—á–∏.")

        # 4. –û—Ç–º–µ—Ç–∏—Ç—å –∑–∞–¥–∞—á—É –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—É—é
        elif choice == "4":
            print("\n" + "‚îÄ" * 40)
            print("–û–¢–ú–ï–¢–ö–ê –ó–ê–î–ê–ß–ò –ö–ê–ö –í–´–ü–û–õ–ù–ï–ù–ù–û–ô")
            print("‚îÄ" * 40)

            if len(tasks) == 0:
                print("üì≠ –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –ø—É—Å—Ç!")
                continue

            # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
            undone_tasks = [task for task in tasks if not task['—Å–¥–µ–ª–∞–Ω–∞']]

            if len(undone_tasks) == 0:
                print("üéâ –í—Å–µ –∑–∞–¥–∞—á–∏ —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã!")
                continue

            print("–ù–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:")
            # –°–æ–∑–¥–∞–µ–º –º–∞–ø–ø–∏–Ω–≥ –Ω–æ–º–µ—Ä–æ–≤ (—Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á)
            task_mapping = {}
            counter = 1

            for i, task in enumerate(tasks):
                if not task['—Å–¥–µ–ª–∞–Ω–∞']:
                    print(f"{counter}. [ ] {task['–æ–ø–∏—Å–∞–Ω–∏–µ']} (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: {task['–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç']})")
                    task_mapping[counter] = i
                    counter += 1

            try:
                # –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –Ω–æ–º–µ—Ä –∑–∞–¥–∞—á–∏ –¥–ª—è –æ—Ç–º–µ—Ç–∫–∏
                task_num = int(input(f"\n–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –∑–∞–¥–∞—á–∏ –¥–ª—è –æ—Ç–º–µ—Ç–∫–∏ (1-{len(undone_tasks)}): ").strip())

                if 1 <= task_num <= len(undone_tasks):
                    # –ü–æ–ª—É—á–∞–µ–º —Ä–µ–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –∑–∞–¥–∞—á–∏ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–ø–∏—Å–∫–µ
                    real_index = task_mapping[task_num]
                    tasks[real_index]['—Å–¥–µ–ª–∞–Ω–∞'] = True

                    print(f"‚úÖ –ó–∞–¥–∞—á–∞ –æ—Ç–º–µ—á–µ–Ω–∞ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è: '{tasks[real_index]['–æ–ø–∏—Å–∞–Ω–∏–µ']}'")

                    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤—Å–µ –ª–∏ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
                    completed_now = sum(1 for task in tasks if task['—Å–¥–µ–ª–∞–Ω–∞'])
                    if completed_now == len(tasks):
                        print("üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã!")

                else:
                    print(f"‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –Ω–æ–º–µ—Ä! –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ {len(undone_tasks)}")

            except ValueError:
                print("‚ùå –û—à–∏–±–∫–∞! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –∑–∞–¥–∞—á–∏.")

        # 5. –í—ã–π—Ç–∏ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã
        elif choice == "5":
            print("\n" + "=" * 50)
            print("–°–ø–∞—Å–∏–±–æ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–µ–ª!")

            # –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
            if tasks:
                completed = sum(1 for task in tasks if task['—Å–¥–µ–ª–∞–Ω–∞'])
                print(f"üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:")
                print(f"   –í—Å–µ–≥–æ –∑–∞–¥–∞—á: {len(tasks)}")
                print(f"   –í—ã–ø–æ–ª–Ω–µ–Ω–æ: {completed}")
                print(f"   –û—Å—Ç–∞–ª–æ—Å—å: {len(tasks) - completed}")

                # –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º
                print("\nüìà –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º:")
                for priority in priorities:
                    count = sum(1 for task in tasks if task['–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç'] == priority)
                    completed_count = sum(1 for task in tasks if task['–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç'] == priority and task['—Å–¥–µ–ª–∞–Ω–∞'])
                    print(f"   {priority.capitalize()}: {count} –∑–∞–¥–∞—á ({completed_count} –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)")
            else:
                print("üì≠ –í–∞—à —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –±—ã–ª –ø—É—Å—Ç.")

            print("=" * 50)
            break

        # –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä
        else:
            print("‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ—Ç 1 –¥–æ 5.")


# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
if __name__ == "__main__":
    todo_list_app_v2()